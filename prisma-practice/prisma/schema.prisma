generator client {
  provider = "prisma-client"
  output = "../generated/prisma"
}

datasource db {
  provider = "postgresql"
}

model User {
  id        String    @id @default(uuid())
  email     String @unique
  username  String
  password  String
  createdAt DateTime  @default(now())
  updatedAt DateTime  @updatedAt

  playlists Playlist[]
}

model Playlist {
  id    String    @id @default(uuid())
  name  String
  isPublic  Boolean   @default(true)
  userId    String
  createdAt   DateTime  @default(now())
  updatedAt   DateTime  @updatedAt

  user        User      @relation(fields: [userId], references: [id], onDelete: Cascade)
}

model Artist {
  id      String    @id     @default(uuid())
  name    String
  bio     String?
  imageUrl  String?
  createdAt DateTime    @default(now())

  albums    Album[]
  songs     Song[]
}

model Song {
  id    String      @id     @default(uuid())
  title String  
  duration   Int?
  artitstId   String
  albumId     String?

  createdAt     DateTime    @default(now())

  album Album       @relation(fields: [albumId], references: [id], onDelete: Cascade)
  artist    Artist  @relation(fields: [artitstId], references: [id], onDelete: Cascade)

}

